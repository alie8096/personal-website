{% extends 'base.html' %}

{% block title %}
    {{ title }}
{% endblock %}

{% block content %}
    <div class="projects-home">
        {% set num_posts = all_posts|length %}
        {% set num_rows = (num_posts // 3) + (1 if num_posts % 3 != 0 else 0) %}
        
        {% for row_index in range(num_rows) %}
            <div class="post-row">
                {% for col_index in range(3) %}
                    {% set post_index = row_index * 3 + col_index %}
                    {% if post_index < num_posts %}
                        <div class="project">
                            <img src="{{ all_posts[post_index].link_image }}" alt="{{ all_posts[post_index].title }}" class="featuring-image">
                            <h4><a href="{{ url_for('post', id=all_posts[post_index].id) }}">{{ all_posts[post_index].title }}</a></h4>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        {% endfor %}
    </div>
{% endblock %}
